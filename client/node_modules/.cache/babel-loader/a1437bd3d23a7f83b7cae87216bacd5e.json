{"ast":null,"code":"import { ApolloClient, InMemoryCache, HttpLink } from 'apollo-boost';\nimport fetch from 'isomorphic-unfetch';\nvar apolloClient = null;\n\nvar create = function create(initialState) {\n  var httpLink = new HttpLink({\n    uri: 'http://localhost:3000/graphql-beta',\n    credentials: 'same-origin',\n    fetch: !process.browser && fetch\n  });\n  return new ApolloClient({\n    connectToDevTools: process.browser,\n    ssrMode: !process.browser,\n    link: httpLink,\n    cache: new InMemoryCache().restore(initialState || {})\n  });\n};\n/**\n * @name initApollo\n * @param {Object} initialState Initial state to initialize the Apollo client with\n * @return {ApolloClient} Apollo client instance\n */\n\n\nexport default function initApollo(initialState) {\n  // Make sure to create a new client for every server-side request so that data\n  // isn't shared between connections\n  if (!process.browser) {\n    return create(initialState);\n  } // Reuse client on the client-side\n\n\n  if (!apolloClient) {\n    apolloClient = create(initialState);\n  }\n\n  return apolloClient;\n}","map":null,"metadata":{},"sourceType":"module"}